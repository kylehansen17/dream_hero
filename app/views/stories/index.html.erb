<div class="content-wrap flex-grow-1"
     data-controller="banner"
     data-banner-stories-image-value="<%= asset_path 'cloudy_sky2.avif' %>"
     data-banner-characters-image-value="<%= asset_path 'lantern.jpg' %>">
  <div class="banner position-relative" data-banner-target="banner">
    <div class="d-flex justify-content-center align-items-center position-absolute banner-content">
      <%= image_tag "Item_Tuskpir.webp", alt: "Tuskipir character image", class: "tuskpir-image w-25" %>
      <h1 class="text-white text-center ms-3">
        Dream Hero
      </h1>
    </div>
  </div>
  <div class="tabs mb-0">
    <!-- Radio Inputs -->
    <input type="radio"
           id="tab2-1"
           name="switch-tab"
           data-banner-target="tabStories"
           data-action="change->banner#switch"
    checked>
    <input type="radio"
           id="tab2-2"
           name="switch-tab"
           data-banner-target="tabCharacters"
           data-action="change->banner#switch">
    <!-- Labels -->
    <div class="tab-buttons d-flex w-100">
      <label for="tab2-1" class="tab-label">Stories</label>
      <label for="tab2-2" class="tab-label">Characters</label>
    </div>
  </div>
</div>

<div class="tab-content" id="content-tab1">
  <div class="container d-flex flex-column align-items-center my-5">

    <h4 class="text-center w-100 mb-4">Pick up where you left off...</h4>
    <div class="main-story container mb-5 d-flex justify-content-center">
      <%= link_to story_path(@front_story), class: "text-decoration-none w-100", style: "max-width: 900px;" do %>
        <div class="card-product row align-items-center mx-0 shadow-sm">
          <div class="col-6 p-0 h-100">
            <% if @front_story.image.attached? %>
               <%= image_tag @front_story.image,
                   class: "img-fluid w-100 h-100",
                   style: "object-fit: cover; min-height: 300px;",
                   alt: @front_story.name %>
            <% end %>
          </div>
          <div class="col-6 card-product-infos p-4">
            <h4 class="text-dark"><%= @front_story.name %></h4>
            <p class="text-muted small"><%= @front_story.summary || "No story content yet." %></p>
          </div>
        </div>
      <% end %>
    </div>

    <div>
      <h4 class="text-center w-100 mb-4">Your Past Stories</h4>
    </div>

    <div class="container my-4">
      <div class="row justify-content-center">

        <% @feature_stories.each do |story| %>

          <div class="col-12 col-md-6 mb-5">

            <%= link_to story_path(story), class: "text-decoration-none" do %>
              <div class="card-category text-center h-100">

                <% if story.image.attached? %>
                  <%= image_tag story.image, class: "img-fluid rounded mb-2 card-img-fixed shadow-sm", alt: story.name %>
                <% else %>
                  <%= image_tag "fantasy_book.avif", class: "img-fluid rounded mb-2 card-img-fixed shadow-sm", alt: "Placeholder" %>
                <% end %>

                <div class="story-title mt-3 text-dark">
                  <h6 class="text-uppercase fw-bold small" style="letter-spacing: 1px;">
                    <%= story.name %>
                  </h6>
                </div>

              </div>
            <% end %>

          </div>
        <% end %>

      </div>
    </div>

  </div>
  <%= render "layouts/final_bottom_navbar" %>
</div>
    <!-- Tab 2 content -->
    <div class="tab-content" id="content-tab2">
      <div class="container d-flex flex-column align-items-center my-5">
        <h4>Characters</h4>
        <p>Character List..</p>
      </div>
    </div>
  </div>
  <%= render "layouts/final_bottom_navbar" %>
</div>
